create database relationshipDB;
USE relationshipDB;

-- PARENT TABLE 
CREATE TABLE BIODATA(ROLLNO INT PRIMARY KEY, 
STDNAME VARCHAR(20), 
COURSE VARCHAR(20));

-- CHILD TABLE
CREATE TABLE MARKS(SNO INT AUTO_INCREMENT PRIMARY KEY, 
EXAM VARCHAR(20), TOTAL INT, ROLLNO INT, 
FOREIGN KEY(ROLLNO) REFERENCES BIODATA(ROLLNO));      -- use of forigen key

INSERT INTO BIODATA(ROLLNO, STDNAME, COURSE)
VALUES(101, 'MAHESH', 'JAVA'),(102, 'RAMESH', 'JAVA'),(103, 'NARESH', 'JAVA');

SELECT * FROM BIODATA;

INSERT INTO MARKS(EXAM, TOTAL, ROLLNO)
VALUES('QTRLY', 250, 101);

INSERT INTO MARKS(EXAM, TOTAL, ROLLNO)
VALUES('QTRLY', 350, 102),('QTRLY', 240, 103);

-- ---------------------------------
-- PARENT TABLE : BOOKS
CREATE TABLE BOOKS(BOOKNO INT PRIMARY KEY, 
BOOKNAME VARCHAR(20));

-- PARENT TABLE : MEMBERS

CREATE TABLE MEMBERS(MEMID INT PRIMARY KEY, 
MEMNAME VARCHAR(20), LOCATION  VARCHAR(20) DEFAULT 'HYD'); 

-- CHILD TABLE : ISSUEDBOOKS

CREATE TABLE ISSUEDBOOKS(SNO INT AUTO_INCREMENT PRIMARY KEY, 
BOOKNO INT, MEMID INT, ISSED_DATE DATE, 
FOREIGN KEY(BOOKNO)  REFERENCES BOOKS(BOOKNO),
FOREIGN KEY(MEMID)  REFERENCES MEMBERS(MEMID));

INSERT INTO BOOKS(BOOKNO, BOOKNAME) VALUES(11, 'SQL'),(12,'JAVA'),(13,'ORACLE');
SELECT * FROM BOOKS;

INSERT INTO MEMBERS(MEMID, MEMNAME) VALUES(121, 'KIRAN'),(122,'KAMALA');
SELECT * FROM MEMBERS;

INSERT INTO ISSUEDBOOKS(BOOKNO, MEMID, ISSED_DATE)
VALUES(11, 122, '2025-08-10'),(13, 121, '2025-08-12');
SELECT * FROM ISSUEDBOOKS;

SELECT * FROM BOOKS;

DELETE FROM BOOKS WHERE BOOKNO = 12;
-- -------------------------
CREATE TABLE DEPT(DEPTNO INT PRIMARY KEY, DNAME VARCHAR(20));

INSERT INTO DEPT(DEPTNO, DNAME) VALUES(10, 'EDUCATION'),(20, 'RESEARCH'), (30, 'SALES');

CREATE TABLE EMPLOYEE(EMPNO INT PRIMARY KEY, 
ENAME VARCHAR(20), DEPTNO INT, 
FOREIGN KEY(DEPTNO) REFERENCES DEPT(DEPTNO) ON DELETE CASCADE);

INSERT INTO EMPLOYEE(EMPNO, ENAME, DEPTNO)
VALUES(1001, 'KIRAN', 10),(1002, 'KIRAN', 10),(1003, 'KIRAN', 20),
(1004, 'KIRAN', 20),(1005, 'KIRAN', 30);

SELECT * FROM DEPT;

SELECT * FROM EMPLOYEE;

DELETE FROM DEPT WHERE DEPTNO = 20;

